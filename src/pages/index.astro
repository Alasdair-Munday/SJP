---
import Layout from "../layouts/Layout.astro";
import SketchChurch from "../components/SketchChurch.astro";
import CalendarEvents from "../components/CalendarEvents.astro";
import content from "../data/content.json";
import {
	ArrowRight,
	Users,
	Zap,
	Heart,
	MapPin,
	Calendar,
	Coffee,
	Smile,
	PlayCircle,
} from "lucide-react";

const { hero, mission_grid } = content.pages.home;
---

<Layout title="Home">
	<!-- HERO SECTION -->
	<div
		class="themed-hero relative min-h-[85vh] flex items-center justify-center overflow-hidden bg-[var(--ink)]"
	>
		<!-- Background Image -->
		<img
			src="/images/community-park-gathering-2.jpg"
			alt="St John's Park Community Gathering"
			class="absolute inset-0 w-full h-full object-cover opacity-90"
		/>

		<!-- Gradient Overlays -->
		<div class="hero-overlay absolute inset-0"></div>
		<div class="hero-shadow-fade absolute inset-0"></div>

		<!-- SVG Texture -->
		<div
			class="absolute inset-0 opacity-10 pointer-events-none mix-blend-overlay"
		>
			<SketchChurch
				class="w-full h-full object-cover text-white transform scale-150 translate-y-20"
			/>
		</div>

		<div
			class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 flex flex-col justify-center h-full w-full"
		>
			<div class="max-w-4xl">
				<!-- Tag -->
				<div
					class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white mb-8 shadow-lg"
				>
					<span class="w-2 h-2 rounded-full bg-(--gold) animate-pulse"
					></span>
					<span class="hand-note text-xl tracking-wide"
						>{hero.badge}</span
					>
				</div>

				<!-- Headline -->
				<h1
					class="theme-display-font text-6xl md:text-8xl font-bold tracking-tight leading-[0.95] mb-8 text-white drop-shadow-xl"
				>
					{hero.title}
				</h1>

				<!-- Subtitle -->
				<p
					class="text-xl md:text-2xl font-medium text-white/90 max-w-2xl leading-relaxed mb-12 border-l-4 border-(--gold) pl-6 drop-shadow-lg"
				>
					{hero.subtitle}
				</p>

				<!-- CTA Buttons -->
				<div class="flex flex-wrap gap-4">
					<a
						href="/sundays"
						class="hero-primary-cta group px-8 py-4 bg-(--gold) text-(--ink) font-bold tracking-wide rounded-lg hover:bg-white transition-all duration-300 flex items-center gap-3 transform hover:-translate-y-1"
					>
						Visit Sunday <ArrowRight
							size={20}
							className="group-hover:translate-x-1 transition-transform"
						/>
					</a>
					<a
						href="/contact"
						class="group px-8 py-4 bg-white/10 backdrop-blur-md text-white font-semibold tracking-wide border border-white/30 rounded-lg hover:bg-white/20 transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
					>
						Find Us <MapPin
							size={20}
							className="group-hover:scale-110 transition-transform"
						/>
					</a>
				</div>
			</div>
		</div>
	</div>

	<!-- I'M NEW: VISITOR BRIDGE -->
	<section
		class="py-16 border-b-2 border-(--ink)"
		style="background-color: color-mix(in oklab, var(--teal) 3%, white);"
	>
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="mb-8">
				<h2 class="heading-eden-gold theme-display-font text-4xl font-bold">
					First Time Visiting?
				</h2>
				<p class="text-(--ink)/85 font-medium mt-2">
					Here is what makes a Sunday morning at St John's Park easy to
					step into.
				</p>
			</div>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
				<article class="sketch-panel p-7">
					<div
						class="w-12 h-12 rounded-full bg-(--gold)/25 text-(--ink) flex items-center justify-center mb-4"
					>
						<Coffee size={22} />
					</div>
					<h3 class="text-2xl font-bold text-(--ink) mb-2">
						Relaxed Atmosphere
					</h3>
					<p class="text-(--ink)/90">
						No dress code, no pressure. Come as you are.
					</p>
				</article>
				<article class="sketch-panel p-7">
					<div
						class="w-12 h-12 rounded-full bg-[var(--eden)]/25 text-(--ink) flex items-center justify-center mb-4"
					>
						<Smile size={22} />
					</div>
					<h3 class="text-2xl font-bold text-(--ink) mb-2">Kids & Youth</h3>
					<p class="text-(--ink)/90">
						Fun, safe groups for ages 0-14.
						<a
							href="/park-kids"
							class="font-semibold underline decoration-[var(--eden)] underline-offset-4 ml-1"
							>Park Kids</a
						>
						and
						<a
							href="/park-youth"
							class="font-semibold underline decoration-[var(--eden)] underline-offset-4 ml-1"
							>Park Youth</a
						>.
					</p>
				</article>
				<article class="sketch-panel p-7">
					<div
						class="w-12 h-12 rounded-full bg-(--teal)/20 text-(--ink) flex items-center justify-center mb-4"
					>
						<MapPin size={22} />
					</div>
					<h3 class="text-2xl font-bold text-(--ink) mb-2">
						Central Location
					</h3>
					<p class="text-(--ink)/90">
						Easy to find on Bernard St with free parking.
						<a
							href="/contact"
							class="font-semibold underline decoration-(--gold) underline-offset-4 ml-1"
							>Find us</a
						>.
					</p>
				</article>
			</div>
		</div>
	</section>

	<!-- LATEST MESSAGE -->
	<section class="py-16 border-b-2 border-(--ink) bg-white">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="sketch-panel overflow-hidden">
				<div class="grid lg:grid-cols-2">
					<div class="min-h-72 lg:min-h-full">
						<img
							src="/images/worship-singers.jpg"
							alt="Church worship team leading a Sunday message"
							class="w-full h-full object-cover"
							loading="lazy"
						/>
					</div>
					<div class="p-8 lg:p-10 flex flex-col justify-between gap-6">
						<div>
							<p class="text-sm uppercase tracking-[0.14em] font-bold text-(--teal) mb-3">
								Latest Message
							</p>
							<h2 class="heading-eden-gold theme-display-font text-4xl font-bold mb-4">
								This Week: The Power of Community.
							</h2>
							<p class="text-(--ink)/85 text-lg font-medium">
								Listen to this week's teaching and hear how shared faith
								shapes everyday life.
							</p>
						</div>
						<div class="space-y-4">
							<audio controls class="w-full">
								<source src="/audio/latest-message.mp3" type="audio/mpeg" />
								Your browser does not support the audio player.
							</audio>
							<a
								href="/sermons"
								class="inline-flex items-center gap-2 px-5 py-2.5 border-2 border-(--ink) text-(--ink) font-semibold hover:bg-(--ink) hover:text-white transition-colors"
							>
								Listen Now <PlayCircle size={18} />
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- BANNER: Upcoming -->
	<div class="bg-(--gold) border-b-2 border-(--ink) p-8">
		<div class="max-w-7xl mx-auto">
			<div class="flex items-center gap-3 mb-6">
				<Calendar className="w-8 h-8 text-[var(--ink)]" />
				<h2 class="text-2xl font-bold tracking-tight text-[var(--ink)]">
					Coming Up
				</h2>
			</div>

			<CalendarEvents />
		</div>
	</div>

	<!-- MISSION GRID -->
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
		<div
			class="flex items-end gap-4 mb-12 border-b-2 border-[var(--ink)] pb-4"
		>
			<h2 class="heading-eden-gold theme-display-font text-4xl font-bold tracking-tight">
				Our Mission
			</h2>
			<span
				class="mb-2 font-mono text-sm text-[var(--ink)]/60 hidden md:inline-block"
				>// Belong, Serve, Give</span
			>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
			{/* CARD 1: BELONG (Eden Green Accent) */}
			<div
				class="sketch-panel theme-belong p-8 hover:-translate-y-1 transition-transform duration-300 group"
			>
				<div
					class="w-12 h-12 bg-[var(--eden-soft)] text-(--ink) flex items-center justify-center mb-6 group-hover:bg-[var(--eden)] group-hover:text-white transition-colors rounded-full"
				>
					<Users size={24} />
				</div>
				<h3 class="text-2xl font-bold mb-3 text-[var(--ink)]">Belong</h3>
				<p class="text-[var(--ink)]/80 font-medium mb-8 leading-relaxed">
					{mission_grid[0].desc}
				</p>
				<a
					href={mission_grid[0].link_href}
					class="inline-flex items-center gap-2 font-semibold text-sm tracking-wide border-b-2 border-[var(--ink)] pb-1 hover:text-[var(--eden)] hover:border-[var(--eden)] transition-colors"
				>
					{mission_grid[0].link_text}
					<ArrowRight size={16} />
				</a>
			</div>

			{/* CARD 2: SERVE (Teal Accent) */}
			<div
				class="sketch-panel theme-serve p-8 hover:-translate-y-1 transition-transform duration-300 group"
			>
				<div
					class="w-12 h-12 bg-[var(--teal-soft)] text-(--ink) flex items-center justify-center mb-6 group-hover:bg-(--teal) group-hover:text-white transition-colors rounded-full"
				>
					<Zap size={24} />
				</div>
				<h3 class="text-2xl font-bold mb-3 text-[var(--ink)]">Serve</h3>
				<p class="text-[var(--ink)]/80 font-medium mb-8 leading-relaxed">
					{mission_grid[1].desc}
				</p>
				<a
					href={mission_grid[1].link_href}
					class="inline-flex items-center gap-2 font-semibold text-sm tracking-wide border-b-2 border-[var(--ink)] pb-1 hover:text-(--teal) hover:border-(--teal) transition-colors"
				>
					{mission_grid[1].link_text}
					<ArrowRight size={16} />
				</a>
			</div>

			{/* CARD 3: GIVE (KINGDOM GOLD) */}
			<div
				class="sketch-panel theme-give p-8 hover:-translate-y-1 transition-transform duration-300 group bg-(--gold)/15"
			>
				<div
					class="w-12 h-12 bg-(--ink) text-(--gold) flex items-center justify-center mb-6 rounded-full"
				>
					<Heart size={24} />
				</div>
				<h3 class="text-2xl font-bold mb-3 text-[var(--ink)]">Give</h3>
				<p class="text-[var(--ink)] font-bold mb-8 leading-relaxed">
					{mission_grid[2].desc}
				</p>
				<a
					href={mission_grid[2].link_href}
					class="inline-flex items-center gap-2 font-semibold text-sm tracking-wide border-b-2 border-[var(--ink)] pb-1 text-[var(--ink)] hover:text-(--gold) hover:border-(--gold) transition-colors"
				>
					{mission_grid[2].link_text}
					<ArrowRight size={16} />
				</a>
			</div>
		</div>
	</div>
</Layout>
