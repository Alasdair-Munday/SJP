---
import Layout from "../layouts/Layout.astro";
import { sermons } from "../data/sermons";
import { Play, Calendar, User, BookOpen } from "lucide-react";
import dayjs from "dayjs";
---

<Layout title="Talks">
  <div class="max-w-7xl mx-auto px-4 py-20">
    <div class="flex items-end gap-4 mb-6 border-b-2 border-[#0F2830] pb-4">
      <h1
        class="font-['Newsreader'] text-5xl md:text-6xl font-bold text-[#0F2830]"
      >
        Talks
      </h1>
    </div>

    <p class="text-xl text-[#0F2830]/90 mb-3">
      Catch up on our latest Sunday talks.
    </p>
    <p class="text-[#0F2830]/80 mb-12">
      Hear the Bible read, explained, and applied to everyday life through talks
      from members of our church family.
    </p>

    <div class="grid gap-8">
      {
        sermons.map((sermon) => (
          <div class="bg-white border-2 border-[#0F2830] p-6 shadow-[4px_4px_0px_0px_#E8E8E0] transition-all group">
            <div class="flex flex-col md:flex-row gap-6 items-start">
              <div class="bg-[#0F2830] text-(--gold) w-16 h-16 flex items-center justify-center shrink-0">
                <Play size={32} fill="currentColor" />
              </div>
              <div class="grow">
                <h2 class="text-3xl font-bold text-[#0F2830] mb-2">
                  {sermon.title}
                </h2>
                <div class="flex flex-wrap gap-4 text-sm font-semibold text-[#0F2830]/70 mb-4 tracking-wide">
                  <div class="flex items-center gap-2">
                    <User size={16} /> {sermon.speaker}
                  </div>
                  <div class="flex items-center gap-2">
                    <Calendar size={16} />{" "}
                    {dayjs(sermon.date).format("MMM D, YYYY")}
                  </div>
                  <div class="flex items-center gap-2">
                    <BookOpen size={16} /> {sermon.passage}
                  </div>
                </div>
                <p class="text-lg font-medium text-[#0F2830]/90 mb-6 max-w-2xl">
                  {sermon.description}
                </p>

                {sermon.audioUrl ? (
                  <audio controls class="w-full">
                    <source src={sermon.audioUrl} type="audio/mpeg" />
                    Your browser does not support the audio element.
                  </audio>
                ) : (
                  <p class="font-semibold text-[#0F2830]/80">
                    Audio coming soon.
                  </p>
                )}
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div class="mt-12 text-center">
      <a
        href="/rss.xml"
        class="inline-flex items-center gap-2 font-semibold tracking-wide bg-[#0F2830] text-white px-6 py-3 border-2 border-[#0F2830] hover:bg-white hover:text-[#0F2830] transition-colors"
      >
        Subscribe via RSS
      </a>
    </div>
  </div>
</Layout>
