---
import Layout from "../layouts/Layout.astro";
import { getSiteContent } from "../data/site-content";

const content = await getSiteContent();
const page = content.pages.im_new;
const gallery = page.gallery ?? [
	{
		src: "/images/congregation.jpg",
		alt: "Church family gathered together during Sunday worship",
		caption: "Sundays are friendly, relaxed, and easy to step into.",
	},
	{
		src: "/images/refreshments.jpg",
		alt: "People talking over refreshments after church",
		caption: "There is always time and space to connect with people.",
	},
];
---

<Layout title={page.title}>
	<div class="max-w-5xl mx-auto px-4 py-20 space-y-8">
		<h1 class="page-heading page-heading--accent text-5xl md:text-6xl font-bold">
			{page.title}
		</h1>
		{
			page.home_preview?.intro && (
				<section class="theme-drench theme-drench--eden p-6">
					<p class="text-xl text-(--ink)/90 max-w-3xl font-medium">
						{page.home_preview.intro}
					</p>
				</section>
			)
			}
			<section class="grid gap-4 md:grid-cols-2">
				{
					gallery.map((item, index) => (
						<figure class:list={[
							"theme-card overflow-hidden",
							index === 0 && "theme-card--strong",
						]}>
							<img
								src={item.src}
								alt={item.alt}
								class="w-full h-64 object-cover"
								loading="lazy"
							/>
							<figcaption class="px-4 py-3 text-sm font-semibold text-(--ink)/80">
								{item.caption}
							</figcaption>
						</figure>
					))
				}
			</section>

		{
			page.sections.map((section) => (
				<section class="theme-card p-8 space-y-4">
					<h2 class="section-heading text-3xl">{section.heading}</h2>
					{section.paragraphs.map((paragraph) => (
						<p class="text-(--ink)/90" set:html={paragraph}></p>
					))}
				</section>
			))
		}
	</div>
</Layout>
